<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DuitCuan</title>

<style>
body { background: #222; color: white; font-family: Arial, sans-serif; text-align: center; padding: 30px; }
h1 { color: yellow; }
.saldo { font-size: 24px; margin: 20px 0; }
button { display: block; width: 90%; margin: 10px auto; padding: 15px; font-size: 18px; border-radius: 10px; border: none; color:white;}
button.green { background: green; }
button.red { background: red; }
.iklan-box { margin: 20px auto; padding: 10px; background: #333; border-radius: 10px; }

/* CMP banner */
#cmp-banner { position: fixed; bottom: 0; left:0; right:0; background:#fff; border-top:2px solid #333; padding:12px 15px; box-shadow:0 -2px 8px rgba(0,0,0,0.2); font-family: Arial; z-index:9999; text-align:center;}
#cmp-banner p { margin:0 0 8px 0; font-size:14px; }
#cmp-banner button { margin:4px 5px 0 0; padding:8px 12px; border:none; cursor:pointer; font-size:13px; border-radius:4px;}
#cmp-allow { background:#4CAF50; color:#fff;}
#cmp-deny { background:#f44336; color:#fff;}
#cmp-manage { background:#2196F3; color:#fff;}
#cmp-popup { display:none; position:fixed; bottom:50px; left:10px; right:10px; background:#fff; border:1px solid #333; padding:15px; box-shadow:0 0 10px rgba(0,0,0,0.3); z-index:10000; font-size:13px; border-radius:6px;}
#cmp-popup label { display:block; margin:6px 0; }
#cmp-popup button { margin-top:10px; padding:6px 10px; }
</style>

</head>
<body>

<h1>💰 DuitCuan</h1>
<p>Aplikasi nonton iklan & dapat saldo</p>
<div class="saldo">Saldo: Rp <span id="saldo">0</span></div>

<!-- CMP Banner -->
<div id="cmp-banner">
  <p>Website ini menggunakan cookie. Pilih izin Anda:</p>
  <button id="cmp-allow">Izinkan</button>
  <button id="cmp-deny">Jangan Izinkan</button>
  <button id="cmp-manage">Kelola Opsi</button>
</div>
<div id="cmp-popup">
  <p>Pilih jenis cookie yang diizinkan:</p>
  <label><input type="checkbox" id="cookie-analytics" /> Analitik</label>
  <label><input type="checkbox" id="cookie-ads" /> Iklan</label>
  <label><input type="checkbox" id="cookie-functional" /> Fungsional</label>
  <button id="cmp-save">Simpan Pilihan</button>
</div>

<!-- Slot Iklan -->
<div class="iklan-box">
  <p>🎬 Iklan tampil di sini</p>
  <!-- Contoh Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-7489930075607232"
       data-ad-slot="1234567890"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<!-- Tombol aksi -->
<button class="green" onclick="tontonIklan()">🎬 Tonton Iklan (+Rp500)</button>
<button class="green" onclick="undangTeman()">👥 Ajak Teman (+Rp2000)</button>
<button class="red" onclick="tarik()">💳 Tarik Uang</button>

<script>
// CMP Script
const banner = document.getElementById('cmp-banner');
const popup = document.getElementById('cmp-popup');

document.getElementById('cmp-allow').onclick = () => {
  localStorage.setItem('cmpConsent','allow'); 
  banner.style.display='none';
};
document.getElementById('cmp-deny').onclick = () => {
  localStorage.setItem('cmpConsent','deny'); 
  banner.style.display='none';
};
document.getElementById('cmp-manage').onclick = () => {
  popup.style.display = 'block';
};
document.getElementById('cmp-save').onclick = () => {
  const analytics = document.getElementById('cookie-analytics').checked;
  const ads = document.getElementById('cookie-ads').checked;
  const functional = document.getElementById('cookie-functional').checked;
  const consent = {analytics, ads, functional};
  localStorage.setItem('cmpConsent', JSON.stringify(consent));
  popup.style.display = 'none';
  banner.style.display='none';
};

// Load saldo
let saldo = localStorage.getItem("saldo") ? parseInt(localStorage.getItem("saldo")) : 0;
document.getElementById("saldo").innerText = saldo;

// Fungsi aplikasi
function updateSaldo(jumlah){
  saldo += jumlah;
  localStorage.setItem("saldo", saldo);
  document.getElementById("saldo").innerText = saldo;
}
function tontonIklan(){
  window.open("iklan.html","_blank"); // buka halaman iklan di tab baru
  updateSaldo(500);
}
function undangTeman(){
  const link = "https://username.github.io/duitcuan/setan.html"; // ganti username sesuai GitHub
  navigator.clipboard.writeText(link);
  alert("✅ Link referral disalin:\n" + link + "\n+Rp2000 saldo ditambahkan!");
  updateSaldo(2000);
}
function tarik(){
  if(saldo >= 1000){
    alert("✅ Penarikan berhasil! (Simulasi). Saldo direset.");
    saldo = 0;
    localStorage.setItem("saldo", saldo);
    document.getElementById("saldo").innerText = saldo;
  } else {
    alert("❌ Minimal penarikan Rp 1.000. Saldo Anda Rp " + saldo);
  }
}

// Hide CMP banner jika sudah setuju
window.onload = () => {
  if(localStorage.getItem('cmpConsent')) banner.style.display='none';
};
</script>

</body>
</html> 